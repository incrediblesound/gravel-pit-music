{"version":3,"sources":["webpack:///webpack/bootstrap 3615fcb2c3c8d260bdad","webpack:///./src/constants.js","webpack:///./src/classes.js","webpack:///./src/note.js","webpack:///./src/state.js","webpack:///./src/switch.js","webpack:///./src/instruments/fm.js","webpack:///./src/instruments/hat.js","webpack:///./src/instruments/kick.js","webpack:///./src/instruments/leadSynth.js","webpack:///./src/instruments/snare.js","webpack:///./src/instruments/synth.js","webpack:///./src/main.js"],"names":["COLOR","LOOP_LENGTH","Background","ctx","x","y","context","fillStyle","fillRect","clearRect","PlayBtn","state","on","togglePlay","render","BeatMarker","Blinker","i","blinkers","beginPath","arc","Math","PI","fill","lineWidth","strokeStyle","stroke","Word","word","handleClick","fillText","PageButton","pageOne","value","callBack","buttonIdx","setPage","offset","name","Options","options","idx","length","Note","type","notes","noteIndex","page","makeStepArray","steps","arr","State","audioCtx","blocks","moduleMap","key","kick","snare","leadSynth","fmSynth","hat","copyBuffer","step","instruments","refreshScreen","values","play","noteTime","startTime","currentTime","rhythmIndex","previousRhythmIndex","schedule","stop","Object","keys","forEach","stepKey","slice","noteKey","contextPlayTime","toggle","note","advanceNote","interval","setTimeout","tempo","secondsPerBeat","window","clearInterval","k","module","setPos","BinSwitch","colors","toggleStep","OctaveSwitch","decay","prevOsc","config","oct","wave","gain","modulator","createOscillator","modulatorGain","createGain","frequency","connect","pan","osc","gainNode","panNode","createStereoPanner","filter","createBiquadFilter","destination","getOscillator","osc1","filter1","gainNode1","osc2","filter2","gainNode2","getModulator","modulator1","modulatorGain1","modulator2","modulatorGain2","modulator3","modulatorGain3","modulator4","modulatorGain4","tone","setupOscillators","start","detune","setTargetAtTime","Hat","noise","createBufferSource","buffer","noiseBuffer","noiseFilter","noiseEnvelope","time","getNoise","bufferSize","sampleRate","createBuffer","output","getChannelData","random","KickSynth","blipOsc","blipGain","getOscillators","LeadSynth","previousTone","previousOct","Snare","KeySynth","filterValue","filters","o","duration","canvas","document","getElementById","getContext","font","AudioContext","webkitAudioContext","updateKickDecay","setDecay","bind","updateLeadDecay","updateBassFilter","setFilter","updateLeadWave","setWave","pageButton","copyPage","pastePage","onclick","e","floor","clientX","clientY","initScreen"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3615fcb2c3c8d260bdad","export const COLOR = 'white'\nexport const LOOP_LENGTH = 16\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.js","import { COLOR } from './constants'\n\nexport class Background {\n  constructor(ctx, x, y){\n    this.context = ctx\n    this.x = x\n    this.y = y\n  }\n  render(){\n    this.context.fillStyle = 'black'\n    this.context.fillRect(this.x, this.y, 40, 40)\n    this.context.clearRect(this.x, this.y, 39, 39)\n  }\n  handleClick(){}\n}\n\nexport class PlayBtn {\n  constructor(ctx, state, x, y){\n    this.context = ctx\n    this.state = state\n    this.x = x\n    this.y = y\n    this.on = false\n  }\n  render(){\n    this.context.fillStyle = this.on ? 'green' : 'yellow'\n    this.context.fillRect(this.x, this.y, 40, 40)\n  }\n  handleClick(){\n    this.on = !this.on\n    this.state.togglePlay(this.on)\n    this.render()\n  }\n}\n\nexport class BeatMarker {\n  constructor(ctx, x, y){\n    this.context = ctx\n    this.x = x\n    this.y = y\n  }\n  render(){\n    this.context.fillStyle = 'red'\n    this.context.fillRect(this.x, this.y, 40, 40)\n    this.context.clearRect(this.x, this.y, 30, 30)\n  }\n  handleClick(){}\n}\n\nexport class Blinker {\n  constructor(i, state, ctx){\n    this.context = ctx\n    state.blinkers[i] = this\n  }\n  render(){\n    if(this.on){\n      this.context.beginPath();\n      this.context.arc(this.x+20, this.y+20, 8, 0, 2 * Math.PI, false);\n      this.context.fillStyle = 'red';\n      this.context.fill();\n      this.context.lineWidth = 1;\n      this.context.strokeStyle = '#003300';\n      this.context.stroke();\n    } else {\n      this.context.clearRect(this.x, this.y, 40, 40)\n    }\n  }\n  setPos(x, y){\n    this.x = x\n    this.y = y\n  }\n  handleClick(){}\n  toggle(){\n    this.on = !this.on\n    this.render()\n  }\n}\n\nexport class Word {\n  constructor(word, ctx, x, y, handleClick){\n    this.context = ctx\n    this.word = word\n    this.x = x\n    this.y = y\n    this.handleClick = handleClick || function(){}\n  }\n  render(){\n    this.context.clearRect(this.x, this.y, 40, 40)\n    this.context.fillStyle = 'black'\n    this.context.fillText(this.word, this.x+3, this.y+25, 80);\n  }\n}\n\nexport class PageButton {\n  constructor(state, ctx, x, y, handleClick){\n    this.context = ctx\n    this.state = state\n    this.pageOne = x/40\n    this.x = x\n    this.y = y\n    this.value = 0\n    this.callBack = handleClick\n  }\n  handleClick(x, y){\n    const buttonIdx = x - this.pageOne\n    this.value = buttonIdx\n    this.state.setPage(this.value)\n    this.render()\n  }\n  render(){\n    this.context.clearRect(this.x, this.y, 40, 160)\n    this.context.fillStyle = 'black'\n    for(let i = 0; i < 4; i++){\n      const offset = 40 * i\n      const name = `Pg ${i+1}`\n      this.context.fillRect(this.x+offset, this.y, 40, 40)\n      if(i === this.value){\n        this.context.fillStyle = '#999'\n        this.context.fillRect(this.x+offset, this.y, 39, 39)\n      } else {\n        this.context.clearRect(this.x+offset, this.y, 39, 39)\n      }\n      this.context.fillStyle = 'black'\n      this.context.fillText(name, this.x+offset+3, this.y+25, 80);\n    }\n  }\n}\n\nexport class Options {\n  constructor(options, callBack, ctx, x, y){\n    this.context = ctx\n    this.idx = 0\n    this.options = options\n    this.callBack = callBack\n    this.x = x\n    this.y = y\n  }\n  render(){\n    this.context.fillStyle = 'black'\n    this.context.clearRect(this.x, this.y, 40, 40)\n    this.context.fillText(this.options[this.idx], this.x+3, this.y+25, 39);\n  }\n  handleClick(){\n    this.idx = (this.idx+1) % this.options.length\n    this.render()\n    this.callBack(this.options[this.idx])\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/classes.js","export default class Note {\n  constructor(idx, type, state, context){\n    this.type = type\n    this.notes = ['c','c#','d','d#','e','f','f#','g','g#','a','a#','b'],\n    this.state = state\n    this.context = context\n    this.idx = idx\n  }\n  setPos(x, y){\n    this.x = x\n    this.y = y\n  }\n  render(){\n    this.context.fillStyle = 'black'\n    this.context.fillRect(this.x, this.y, 40, 40)\n    this.context.clearRect(this.x, this.y, 39, 39)\n    const noteIndex = this.state.notes[this.type][this.state.page][this.idx]\n    this.context.fillText(this.notes[noteIndex], this.x+15, this.y+25, 15);\n  }\n  handleClick(){\n    const page = this.state.notes[this.type][this.state.page]\n    page[this.idx] = page[this.idx] === 11 ? 0 : page[this.idx]+1\n    this.render()\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/note.js","import KeySynth from './instruments/synth'\nimport KickSynth from './instruments/kick'\nimport LeadSynth from './instruments/leadSynth'\nimport fmSynth from './instruments/fm'\nimport Snare from './instruments/snare'\nimport Hat from './instruments/hat'\nimport { LOOP_LENGTH } from './constants'\n\nfunction makeStepArray(steps){\n  let arr = []\n  arr.length = steps\n  arr.fill(0)\n  return arr\n}\n\nexport default class State {\n  constructor(audioCtx) {\n    this.blocks = {}\n    this.moduleMap = {}\n    this.page = 0\n    this.steps = {\n      key: [makeStepArray(16),makeStepArray(16), makeStepArray(16), makeStepArray(16)],\n      kick: [makeStepArray(16),makeStepArray(16), makeStepArray(16), makeStepArray(16)],\n      snare: [makeStepArray(16),makeStepArray(16), makeStepArray(16), makeStepArray(16)],\n      leadSynth: [makeStepArray(16),makeStepArray(16), makeStepArray(16), makeStepArray(16)],\n      fmSynth: [makeStepArray(16),makeStepArray(16), makeStepArray(16), makeStepArray(16)],\n      hat: [makeStepArray(16),makeStepArray(16), makeStepArray(16), makeStepArray(16)]\n    }\n    this.notes = {\n      fmSynth: [makeStepArray(16),makeStepArray(16), makeStepArray(16), makeStepArray(16)],\n      key: [makeStepArray(16),makeStepArray(16),makeStepArray(16),makeStepArray(16)],\n      kick: [makeStepArray(16),makeStepArray(16),makeStepArray(16),makeStepArray(16)],\n      leadSynth: [makeStepArray(16),makeStepArray(16),makeStepArray(16),makeStepArray(16)]\n    }\n    this.copyBuffer = { notes: {}, steps: {} }\n    this.blinkers = []\n    this.step = 0\n    this.context = audioCtx\n    this.instruments = {\n      key: new KeySynth(audioCtx),\n      kick: new KickSynth(audioCtx),\n      snare: new Snare(audioCtx),\n      fmSynth: new fmSynth(audioCtx),\n      leadSynth: new LeadSynth(audioCtx),\n      hat: new Hat(audioCtx)\n    }\n  }\n  setPage(value){\n    this.page = value\n    this.refreshScreen()\n    return value\n  }\n  toggleStep(idx, type, values){\n    this.steps[type][this.page][idx] = (this.steps[type][this.page][idx] + 1) % values\n  }\n  togglePlay(play){\n    if(play){\n      this.noteTime = 0.0\n      this.startTime = this.context.currentTime + 0.005\n      this.rhythmIndex = 0\n      this.previousRhythmIndex = null\n      this.schedule()\n    } else {\n      this.stop()\n    }\n  }\n  copyPage(){\n    Object.keys(this.steps).forEach(stepKey => {\n      this.copyBuffer.steps[stepKey] = this.steps[stepKey][this.page].slice()\n    })\n    Object.keys(this.notes).forEach(noteKey => {\n      this.copyBuffer.notes[noteKey] = this.notes[noteKey][this.page].slice()\n    })\n  }\n  pastePage(){\n    Object.keys(this.steps).forEach(stepKey => {\n      this.steps[stepKey][this.page] = this.copyBuffer.steps[stepKey].slice()\n    })\n    Object.keys(this.notes).forEach(noteKey => {\n      this.notes[noteKey][this.page] = this.copyBuffer.notes[noteKey].slice()\n    })\n    this.refreshScreen()\n  }\n  schedule(){\n    let currentTime = this.context.currentTime\n    // The sequence starts at startTime, so normalize currentTime so that it's 0 at the start of the sequence.\n    currentTime -= this.startTime\n\n    while (this.noteTime < currentTime + 0.200) {\n      var contextPlayTime = this.noteTime + this.startTime\n      this.blinkers[this.rhythmIndex].toggle()\n      if(this.previousRhythmIndex !== null) this.blinkers[this.previousRhythmIndex].toggle()\n      Object.keys(this.steps).forEach(type => {\n        if(this.steps[type][this.page][this.rhythmIndex]){\n          const note = this.notes[type] && this.notes[type][this.page][this.rhythmIndex]\n          this.instruments[type].play(note, this.steps[type][this.page][this.rhythmIndex])\n        }\n      })\n      //Insert draw stuff here\n      this.advanceNote()\n    }\n    this.interval = setTimeout(() => { this.schedule() }, 0)\n  }\n  advanceNote(){\n    // Setting tempo to 60 BPM just for now\n    let tempo = 90\n    let secondsPerBeat = 60 / tempo\n    this.previousRhythmIndex = this.rhythmIndex\n    this.rhythmIndex++;\n    if (this.rhythmIndex === LOOP_LENGTH) {\n        this.rhythmIndex = 0;\n    }\n\n    //0.25 because each square is a 16th note\n    this.noteTime += 0.25 * secondsPerBeat;\n  }\n  stop(){\n    this.blinkers[this.previousRhythmIndex].toggle()\n    window.clearInterval(this.interval)\n  }\n  initScreen(){\n    for(var i = 0; i < 1020; i += 40){\n      for(var k = 0; k < 680; k += 40){\n        const key = `${i/40}/${k/40}`\n        const module = this.moduleMap[key]\n        if(module){\n          module.setPos(i, k)\n          this.blocks[key] = module\n        }\n        if(this.blocks[key]) this.blocks[key].render()\n      }\n    }\n  }\n  refreshScreen(){\n    for(var i = 0; i < 1020; i += 40){\n      for(var k = 0; k < 680; k += 40){\n        const key = `${i/40}/${k/40}`\n        if(this.blocks[key]) this.blocks[key].render()\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/state.js","import { COLOR } from './constants'\n\nexport class BinSwitch {\n  constructor(idx, type, state, ctx){\n    this.idx = idx\n    this.type = type\n    this.state = state\n    this.context = ctx\n    this.x = null\n    this.y = null\n    this.colors = ['black', 'red']\n  }\n  render(){\n    const page = this.state.steps[this.type][this.state.page]\n    this.context.fillStyle = this.colors[page[this.idx]]\n    this.context.fillRect(this.x, this.y, 37, 37)\n    this.context.fillStyle = COLOR\n  }\n  setPos(x, y){\n    this.x = x\n    this.y = y\n  }\n  handleClick(){\n    const page = this.state.steps[this.type][this.state.page]\n    this.value = (this.value+1) % 2\n    this.state.toggleStep(this.idx, this.type, 2)\n    this.context.clearRect(this.x, this.y, 37, 37)\n    this.context.fillStyle = this.colors[page[this.idx]]\n    this.context.fillRect(this.x, this.y, 37, 37)\n    this.context.fillStyle = COLOR\n  }\n}\n\nexport class OctaveSwitch {\n  constructor(idx, type, state, ctx){\n    this.idx = idx\n    this.type = type\n    this.state = state\n    this.context = ctx\n    this.x = null\n    this.y = null\n    this.colors = ['black', 'red', 'blue']\n  }\n  render(){\n    const page = this.state.steps[this.type][this.state.page]\n    this.context.fillStyle = this.colors[page[this.idx]]\n    this.context.fillRect(this.x, this.y, 37, 37)\n    this.context.fillStyle = COLOR\n  }\n  setPos(x, y){\n    this.x = x\n    this.y = y\n  }\n  handleClick(){\n    const page = this.state.steps[this.type][this.state.page]\n    this.value = (page[this.idx]+1) % 3\n    this.state.toggleStep(this.idx, this.type, 3)\n    this.context.clearRect(this.x, this.y, 37, 37)\n    this.context.fillStyle = this.colors[page[this.idx]]\n    this.context.fillRect(this.x, this.y, 37, 37)\n    this.context.fillStyle = COLOR\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/switch.js","export default class fmSynth {\n  constructor(ctx){\n    this.context = ctx\n    this.decay = 0\n    this.prevOsc = null\n    this.config = {\n      type: 'square'\n    }\n  }\n  newOsc(){\n    return\n  }\n  setDecay(value){\n    this.decay = value\n  }\n  setWave(value){\n    this.config.type = value\n  }\n  getModulator(oct, wave, gain){\n    const modulator = this.context.createOscillator()\n    const modulatorGain = this.context.createGain()\n    modulator.type = wave\n    modulator.frequency.value = oct\n    modulatorGain.gain.value = gain\n    modulator.connect(modulatorGain)\n    return [ modulator, modulatorGain ]\n  }\n  getOscillator(pan){\n    const osc = this.context.createOscillator()\n    osc.type = this.config.type\n\n    const gainNode = this.context.createGain()\n    gainNode.gain.value = 0.08\n\n    const panNode = this.context.createStereoPanner()\n    panNode.pan.value = pan === 'left' ? -0.7 : 0.7\n\n    const filter = this.context.createBiquadFilter();\n    filter.type = 'lowpass';\n    filter.frequency.value = 0;\n\n    osc.connect(filter)\n    filter.connect(gainNode)\n    gainNode.connect(panNode)\n    panNode.connect(this.context.destination)\n    return [ osc, filter, gainNode ]\n  }\n  setupOscillators(){\n    const [ osc1, filter1, gainNode1 ] = this.getOscillator('left')\n    const [ osc2, filter2, gainNode2 ] = this.getOscillator('right')\n    const [ modulator1, modulatorGain1 ] = this.getModulator(220, 'sine', 25)\n    const [ modulator2, modulatorGain2 ] = this.getModulator(110, 'sawtooth', 20)\n    const [ modulator3, modulatorGain3 ] = this.getModulator(55, 'sawtooth', 25)\n    const [ modulator4, modulatorGain4 ] = this.getModulator(220, 'square', 30)\n    modulatorGain1.connect(modulator2.frequency)\n    modulatorGain2.connect(osc1.frequency)\n    modulatorGain3.connect(modulator4.frequency)\n    modulatorGain4.connect(osc2.frequency)\n    return [\n      osc1, osc2,\n      gainNode1, gainNode2,\n      modulator1, modulator2,\n      modulator3, modulator4,\n      filter1,\n      filter2\n     ]\n  }\n  play(tone, oct){\n    const [\n      osc1, osc2,\n      gainNode1, gainNode2,\n      modulator1, modulator2,\n      modulator3, modulator4,\n      filter1,\n      filter2\n    ] = this.setupOscillators(tone, oct)\n    modulator1.start()\n    modulator2.start()\n    modulator3.start()\n    modulator4.start()\n    osc1.start()\n    osc2.start()\n\n    osc1.detune.value = tone*102\n    osc1.frequency.value = oct*220\n    filter1.frequency.setTargetAtTime(5000, this.context.currentTime, 0.03)\n    gainNode1.gain.setTargetAtTime(0, this.context.currentTime+0.1+(this.decay*0.02), 0.05);\n\n    osc2.detune.value = tone*98\n    osc2.frequency.value = oct*220\n    filter2.frequency.setTargetAtTime(5000, this.context.currentTime, 0.03)\n    gainNode2.gain.setTargetAtTime(0, this.context.currentTime+0.1+(this.decay*0.02), 0.05);\n\n    osc1.stop(this.context.currentTime+1)\n    osc2.stop(this.context.currentTime+1)\n    modulator1.stop(this.context.currentTime+1)\n    modulator2.stop(this.context.currentTime+1)\n    modulator3.stop(this.context.currentTime+1)\n    modulator4.stop(this.context.currentTime+1)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/instruments/fm.js","export default class Hat {\n  constructor(ctx){\n    this.context = ctx\n    this.prevOsc = null\n  }\n  getNoise(){\n    const noise = this.context.createBufferSource();\n    noise.buffer = noiseBuffer(this.context);\n    const noiseFilter = this.context.createBiquadFilter();\n    noiseFilter.type = 'highpass';\n    noiseFilter.frequency.value = 2500;\n    noise.connect(noiseFilter);\n\n    const noiseEnvelope = this.context.createGain();\n    noiseEnvelope.gain.value = 0.4\n    noiseFilter.connect(noiseEnvelope);\n    noiseEnvelope.connect(this.context.destination);\n    return [ noise, noiseEnvelope ]\n  }\n  play(tone, oct){\n    if(this.prevOsc){\n      this.prevOsc.stop()\n    }\n    const time = oct === 1 ? 0.01 : 0.05\n    const [ noise, noiseEnvelope ] = this.getNoise()\n    this.prevOsc = noise\n    noise.start()\n    noiseEnvelope.gain.setTargetAtTime(0, this.context.currentTime, time);\n    noise.stop(this.context.currentTime + 0.30)\n  }\n}\n\nfunction noiseBuffer(context) {\n  const bufferSize = context.sampleRate;\n  const buffer = context.createBuffer(1, bufferSize, context.sampleRate);\n  const output = buffer.getChannelData(0);\n  for (var i = 0; i < bufferSize; i++) {\n    output[i] = Math.random() * 2 - 1;\n  }\n  return buffer;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/instruments/hat.js","export default class KickSynth {\n  constructor(ctx){\n    this.context = ctx\n    this.decay = 0\n    this.config = {\n      type: 'sine'\n    }\n  }\n  newOsc(){\n    return\n  }\n  setDecay(value){\n    this.decay = value\n  }\n  getOscillators(tone){\n    const osc = this.context.createOscillator()\n    const blipOsc = this.context.createOscillator()\n    const gain = this.context.createGain()\n    const blipGain = this.context.createGain()\n    osc.frequency.value = 55\n    blipOsc.frequency.value = 440\n    osc.detune.value = tone * 100\n    blipOsc.detune.value = tone * 100\n    osc.connect(gain)\n    blipOsc.connect(blipGain)\n    gain.connect(this.context.destination)\n    blipGain.connect(this.context.destination)\n    return [ osc, gain, blipOsc, blipGain ]\n  }\n  play(tone){\n    const [ osc, gain, blipOsc, blipGain ] = this.getOscillators(tone)\n    osc.start()\n    blipOsc.start()\n    gain.gain.setTargetAtTime(0, this.context.currentTime, 0.07 + (this.decay * 0.01));\n    blipGain.gain.setTargetAtTime(0, this.context.currentTime, 0.10);\n    blipOsc.frequency.setTargetAtTime(55, this.context.currentTime, 0.05)\n    osc.stop(this.context.currentTime+1)\n    blipOsc.stop(this.context.currentTime+1)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/instruments/kick.js","export default class LeadSynth {\n  constructor(ctx){\n    this.context = ctx\n    this.previousTone = 0\n    this.previousOct = 1\n    this.decay = 0\n    this.prevOsc = null\n    this.config = {\n      type: 'sine'\n    }\n  }\n  newOsc(){\n    return\n  }\n  setDecay(value){\n    this.decay = value\n  }\n  setWave(value){\n    this.config.type = value\n  }\n  getOscillators(tone, oct){\n  this.previousTone = tone\n  this.previousOct = oct\n\n  const osc = this.context.createOscillator()\n  osc.detune.value = this.previousTone * 100\n  osc.frequency.value = this.previousOct * 220\n  osc.type = this.config.type\n\n  const gainNode = this.context.createGain()\n  gainNode.gain.value = 0\n\n  const filter = this.context.createBiquadFilter();\n  filter.type = 'lowpass';\n  filter.frequency.value = 0;\n\n  osc.connect(filter)\n  filter.connect(gainNode)\n  gainNode.connect(this.context.destination)\n\n  return [ osc, gainNode, filter ]\n  }\n  play(tone, oct){\n    if(this.prevOsc) this.prevOsc.stop()\n\n    const [ osc, gainNode, filter ] = this.getOscillators(tone, oct)\n    this.prevOsc = osc\n\n    osc.start()\n\n    osc.detune.setTargetAtTime(tone*100, this.context.currentTime, 0.03)\n    osc.frequency.setTargetAtTime(oct*440, this.context.currentTime, 0.03)\n    gainNode.gain.setTargetAtTime(0.4, this.context.currentTime, 0.001);\n    gainNode.gain.setTargetAtTime(0, this.context.currentTime+0.1+(this.decay*0.02), 0.05);\n    filter.frequency.setTargetAtTime(1000, this.context.currentTime, 0.03)\n    \n    osc.stop(this.context.currentTime+1)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/instruments/leadSynth.js","export default class Snare {\n  constructor(ctx){\n    this.context = ctx\n    this.config = {\n      type: 'triangle'\n    }\n  }\n  getNoise(){\n    const noise = this.context.createBufferSource();\n    noise.buffer = noiseBuffer(this.context);\n    const noiseFilter = this.context.createBiquadFilter();\n    noiseFilter.type = 'highpass';\n    noiseFilter.frequency.value = 1000;\n    noise.connect(noiseFilter);\n\n    const noiseEnvelope = this.context.createGain();\n    noiseFilter.connect(noiseEnvelope);\n    noiseEnvelope.connect(this.context.destination);\n    return [ noise, noiseEnvelope ]\n  }\n  getOscillators(){\n  const osc = this.context.createOscillator();\n  osc.type = this.config.type;\n\n  const gain = this.context.createGain()\n  osc.connect(gain);\n  gain.connect(this.context.destination);\n  osc.frequency.value = 150\n  return [ osc, gain ]\n  }\n  play(tone){\n    const [ osc, gain ] = this.getOscillators()\n    const [ noise, noiseEnvelope ] = this.getNoise()\n    osc.start()\n    noise.start()\n    gain.gain.setTargetAtTime(0, this.context.currentTime, 0.04);\n    noiseEnvelope.gain.setTargetAtTime(0, this.context.currentTime, 0.03);\n    osc.stop(this.context.currentTime + 0.30)\n    noise.stop(this.context.currentTime + 0.30)\n  }\n}\n\nfunction noiseBuffer(context) {\n  const bufferSize = context.sampleRate;\n  const buffer = context.createBuffer(1, bufferSize, context.sampleRate);\n  const output = buffer.getChannelData(0);\n  for (var i = 0; i < bufferSize; i++) {\n    output[i] = Math.random() * 2 - 1;\n  }\n  return buffer;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/instruments/snare.js","export default class KeySynth {\n  constructor(ctx){\n    this.context = ctx\n    this.config = {\n      type: 'sawtooth'\n    }\n    this.filterValue = 0\n  }\n  newOsc(){\n    return\n  }\n  setFilter(value){\n    this.filterValue = value\n  }\n  getOscillators(tone, oct){\n  const osc = [\n    this.context.createOscillator(), this.context.createOscillator(), this.context.createOscillator()\n  ]\n  const gain = [\n    this.context.createGain(), this.context.createGain(), this.context.createGain()\n  ]\n  const filters = [\n    this.context.createBiquadFilter(), this.context.createBiquadFilter()\n  ]\n  filters[0].frequency.value = 1000\n  filters[1].frequency.value = 1000\n  osc[0].frequency.value = 55 * oct\n  osc[1].frequency.value = 55 * oct\n  osc[2].frequency.value = 110 * oct\n  osc[0].detune.value = tone * 100\n  osc[1].detune.value = tone * 101\n  osc[2].detune.value = tone * 99\n  osc.forEach((o, i) => {\n    o.type = this.config.type\n    if(!i){\n      o.connect(gain[i])\n    } else {\n      o.connect(filters[i-1])\n      filters[i-1].connect(gain[i])\n    }\n    gain[i].connect(this.context.destination)\n  })\n  osc[0].type = 'triangle'\n  return [ osc, gain, filters ]\n  }\n  play(tone, oct){\n    const [ osc, gain, filters ] = this.getOscillators(tone, oct)\n    let duration = 100\n    osc.forEach((o, i) => {\n      o.start()\n      if(i > 0){\n        filters[1].frequency.setTargetAtTime(this.filterValue*1000, this.context.currentTime, 0.05);\n      }\n      gain[i].gain.setTargetAtTime(0, this.context.currentTime, 0.035);\n      o.stop(this.context.currentTime+0.5)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/instruments/synth.js","import State from './state'\nimport { BinSwitch, OctaveSwitch } from './switch'\nimport Note from './note'\nimport {\n  Background,\n  PlayBtn,\n  BeatMarker,\n  Blinker,\n  Word,\n  Options,\n  PageButton\n } from './classes'\n\nconst canvas = document.getElementById('synth');\nconst ctx = canvas.getContext('2d');\nctx.font = '14px sans-serif'\nconst audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n\nconst state = new State(audioCtx)\n\nfor(var i = 0; i < 16; i++){\n  state.moduleMap[`${i+2}/12`] = new OctaveSwitch(i,'hat', state, ctx)\n  state.moduleMap[`${i+2}/13`] = new BinSwitch(i,'snare', state, ctx)\n  state.moduleMap[`${i+2}/14`] = new Note(i,'kick', state, ctx)\n  state.moduleMap[`${i+2}/15`] = new BinSwitch(i,'kick', state, ctx)\n\n  state.moduleMap[`${i+2}/5`] = new Note(i,'fmSynth', state, ctx)\n  state.moduleMap[`${i+2}/6`] = new OctaveSwitch(i,'fmSynth', state, ctx)\n  state.moduleMap[`${i+2}/7`] = new Note(i,'leadSynth', state, ctx)\n  state.moduleMap[`${i+2}/8`] = new OctaveSwitch(i,'leadSynth', state, ctx)\n  state.moduleMap[`${i+2}/9`] = new Note(i,'key', state, ctx)\n  state.moduleMap[`${i+2}/10`] = new OctaveSwitch(i,'key', state, ctx)\n\n  state.moduleMap[`${i+2}/2`] = new Blinker(i, state, ctx)\n}\n/* Play button */\nstate.blocks['0/0'] = new PlayBtn(ctx, state, 0, 0)\n/* 4 Beat markers */\nstate.blocks['2/16'] = new BeatMarker(ctx, 2*40, 16*40)\nstate.blocks['6/16'] = new BeatMarker(ctx, 6*40, 16*40)\nstate.blocks['10/16'] = new BeatMarker(ctx, 10*40, 16*40)\nstate.blocks['14/16'] = new BeatMarker(ctx, 14*40, 16*40)\n/* Instrument names */\nstate.blocks['0/6'] = new Word('FM', ctx, 0, 6*40)\nstate.blocks['0/8'] = new Word('Lead', ctx, 0, 8*40)\nstate.blocks['0/9'] = new Word('Bass', ctx, 0, 10*40)\nstate.blocks['0/15'] = new Word('Kick', ctx, 0, 15*40)\nstate.blocks['0/13'] = new Word('Snare', ctx, 0, 13*40)\nstate.blocks['0/12'] = new Word('Hat', ctx, 0, 12*40)\n\nconst updateKickDecay = state.instruments.kick.setDecay.bind(state.instruments.kick)\nstate.blocks['18/15'] = new Word('Decay', ctx, 18*40, 15*40)\nstate.blocks['19/15'] = new Options([0, 1, 2, 3, 4, 5, 6, 7, 8, 9], updateKickDecay, ctx, 19*40+10, 15*40)\n\nconst updateLeadDecay = state.instruments.leadSynth.setDecay.bind(state.instruments.leadSynth)\nstate.blocks['18/8'] = new Word('Decay', ctx, 18*40, 8*40)\nstate.blocks['19/8'] = new Options([0, 1, 2, 3, 4, 5, 6, 7, 8, 9], updateLeadDecay, ctx, 19*40+10, 8*40)\n\nconst updateBassFilter = state.instruments.key.setFilter.bind(state.instruments.key)\nstate.blocks['18/10'] = new Word('Filter', ctx, 18*40, 10*40)\nstate.blocks['19/10'] = new Options([0, 1, 2, 3, 4, 5, 6], updateBassFilter, ctx, 19*40+10, 10*40)\n\nconst updateLeadWave = state.instruments.leadSynth.setWave.bind(state.instruments.leadSynth)\nstate.blocks['21/8'] = new Word('Wave', ctx, 21*40, 8*40)\nstate.blocks['22/8'] = new Options(['sine','square', 'sawtooth'], updateLeadWave, ctx, 22*40+5, 8*40)\n\n\nconst pageButton = new PageButton(state, ctx, 2*40, 0)\nstate.blocks['2/0'] = pageButton\nstate.blocks['3/0'] = pageButton\nstate.blocks['4/0'] = pageButton\nstate.blocks['5/0'] = pageButton\n\nstate.blocks['7/0'] = new Word('Copy', ctx, 7*40, 0, state.copyPage.bind(state))\nstate.blocks['8/0'] = new Word('Paste', ctx, 8*40, 0, state.pastePage.bind(state))\n\ncanvas.onclick = (e) => {\n  let x = Math.floor(e.clientX/40)\n  let y = Math.floor(e.clientY/40)\n  const key = `${x}/${y}`\n  const module = state.blocks[key]\n  if(module){\n    state.blocks[key].handleClick(x, y)\n  }\n}\n\nstate.initScreen()\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}